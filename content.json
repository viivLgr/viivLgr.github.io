[{"title":"jså›¾ç‰‡ä¸Šä¼ å¹¶é¢„è§ˆ","date":"2017-05-11T09:05:27.000Z","path":"2017/05/11/jså›¾ç‰‡ä¸Šä¼ å¹¶é¢„è§ˆ/","text":"htmlç»“æ„12345&lt;div class=&quot;preview&quot; id=&quot;preview&quot;&gt; ![](img.png)&lt;/div&gt;&lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;imgInput&quot; onchange=&quot;previewImage(this,&apos;preview&apos;,&apos;img&apos;,&apos;imgInput&apos;)&quot; class=&quot;dis&quot;&gt; jsä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576//å›¾ç‰‡ä¸Šä¼ é¢„è§ˆ IEæ˜¯ç”¨äº†æ»¤é•œã€‚function previewImage(file, previewDiv, imgId, imgInputId) &#123; var MAXWIDTH = document.getElementById(imgId).width; var MAXHEIGHT = document.getElementById(imgId).height; var div = document.getElementById(previewDiv); if (file.files &amp;&amp; file.files[0]) &#123; // æ ¼å¼ä¸æ­£ç¡®çš„é”™è¯¯æç¤º var error = document.createElement(&apos;p&apos;); error.className = &apos;pic-error&apos;; //å¦‚æœä¸æ˜¯å›¾ç‰‡æ ¼å¼ï¼Œä¸å¾€ä¸‹æ‰§è¡Œ if (file.files[0].type !== &apos;image/jpeg&apos; &amp;&amp; file.files[0].type !== &apos;image/jpg&apos; &amp;&amp; file.files[0].type !== &apos;image/png&apos; &amp;&amp; file.files[0].type !== &apos;image/gif&apos;) &#123; error.innerHTML = &apos;è¯·ä¸Šä¼ å›¾ç‰‡æ ¼å¼çš„æ–‡ä»¶ï¼ˆjpeg/jpg/png/gifï¼‰&apos;; div.appendChild(error); return; &#125; //é™åˆ¶6Mä»¥ä¸‹çš„å›¾ç‰‡ if(file.size &gt; 6*1024*1026)&#123; error.innerHTML = &apos;è¯·ä¸Šä¼ å¤§å°åœ¨6Mä»¥ä¸‹çš„å›¾ç‰‡&apos;; div.appendChild(error); return; &#125; //ç§»é™¤é”™è¯¯æç¤º if(div.childNodes[1])&#123; div.removeChild(div.childNodes[1]); &#125; div.innerHTML = &apos;&lt;img id=&quot;&apos; + imgId + &apos;&quot; onclick=$(&quot;#&apos; + imgInputId + &apos;&quot;).click()&gt;&apos;; var img = document.getElementById(imgId); img.onload = function () &#123; var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight); img.width = rect.width; img.height = rect.height; img.style.marginTop = rect.top + &apos;px&apos;; &#125; var reader = new FileReader(); reader.onload = function (evt) &#123; img.src = evt.target.result; &#125; reader.readAsDataURL(file.files[0]); &#125; else //å…¼å®¹IE &#123; var sFilter = &apos;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src=&quot;&apos;; file.select(); var src = document.selection.createRange().text; div.innerHTML = &apos;&lt;img id=&apos; + imgId + &apos;&gt;&apos;; var img = document.getElementById(imgId); img.filters.item(&apos;DXImageTransform.Microsoft.AlphaImageLoader&apos;).src = src; var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight); status = (&apos;rect:&apos; + rect.top + &apos;,&apos; + rect.left + &apos;,&apos; + rect.width + &apos;,&apos; + rect.height); div.innerHTML = &quot;&lt;div id=divhead style=&apos;width:&quot; + rect.width + &quot;px;height:&quot; + rect.height + &quot;px;margin-top:&quot; + rect.top + &quot;px;&quot; + sFilter + src + &quot;\\&quot;&apos;&gt;&lt;/div&gt;&quot;; &#125;&#125;// è®¡ç®—æ ¹æ®åŸæœ‰imgæ ‡ç­¾å®½é«˜è®¡ç®—è£å‰ªåçš„å›¾ç‰‡å®½é«˜function clacImgZoomParam(maxWidth, maxHeight, width, height) &#123; var param = &#123;top: 0, left: 0, width: width, height: height&#125;; if (width &gt; maxWidth || height &gt; maxHeight) &#123; rateWidth = width / maxWidth; rateHeight = height / maxHeight; if (rateWidth &gt; rateHeight) &#123; param.width = maxWidth; param.height = Math.round(height / rateWidth); &#125; else &#123; param.width = Math.round(width / rateHeight); param.height = maxHeight; &#125; &#125; param.left = Math.round((maxWidth - param.width) / 2); param.top = Math.round((maxHeight - param.height) / 2); return param;&#125; cssä»£ç 12345678910111213141516.dis&#123; display: none;&#125;.preview&#123; display: table-cell; width: 300px; height: 200px; border: 1px solid #ccc; background-color: #ccc; border-radius: 5px; text-align: center; vertical-align: middle;&#125;.preview img&#123; border: 0;&#125;","tags":[{"name":"å°æ’ä»¶","slug":"å°æ’ä»¶","permalink":"http://viivlgr.github.io/tags/å°æ’ä»¶/"}]},{"title":"æ ¼å¼åŒ–æ—¶é—´æ’ä»¶","date":"2017-05-11T07:28:31.000Z","path":"2017/05/11/æ ¼å¼åŒ–æ—¶é—´æ’ä»¶/","text":"12345678910111213141516171819202122232425262728293031323334353637383940//ä¸‰ç§è·å¾—å½“å‰æ—¶é—´æˆ³çš„æ–¹å¼var timestamp1 = (new Date()).valueOf();var timestamp2 = new Date().getTime();var timestamp3 = Date.parse(new Date());console.log(timestamp1,timestamp2,timestamp3);// 1494487912124 1494487912124 1494487912000var now = new Date();console.log(now) // Thu May 11 2017 15:31:07 GMT+0800 (CST)console.log(formatDate(now,&apos;yyyy-MM-dd hh:mm&apos;));//æ ¼å¼åŒ–æ—¶é—´æ–¹æ³•function formatDate(date,fmt)&#123; if(/(y+)/.test(fmt))&#123; fmt = fmt.replace(RegExp.$1,(date.getFullYear()+&apos;&apos;).substr(4 - RegExp.$1.length)); console.log(fmt); //&quot;2017-MM-dd hh:mm&quot; &#125; var o = &#123; &apos;M+&apos;: date.getMonth() + 1, &apos;d+&apos;: date.getDate(), &apos;h+&apos;: date.getHours(), &apos;m+&apos;: date.getMinutes(), &apos;s+&apos;: date.getSeconds() &#125; for(let k in o)&#123; if(new RegExp(`($&#123;k&#125;)`).test(fmt))&#123; let str = o[k] + &apos;&apos;; fmt = fmt.replace(RegExp.$1,(RegExp.$1.length === 1) ? str : padLeftZero(str)); console.log(fmt); // 2017-05-dd hh:mm ä¾æ¬¡æ›¿æ¢ å¹¶ä¸”ä¸è¶³ä¸¤ä½è¡¥0 &#125; &#125; return fmt;&#125;// ä¸è¶³ä¸¤ä½è¡¥0function padLeftZero(str)&#123; return (&apos;00&apos;+str).substr(str.length);&#125; æ¬¢è¿è®¿é—®æˆ‘çš„ç®€ä¹¦ï¼ŒåŒæ­¥å‘å¸ƒæ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡æ­£ã€‚","tags":[{"name":"å°æ’ä»¶","slug":"å°æ’ä»¶","permalink":"http://viivlgr.github.io/tags/å°æ’ä»¶/"}]},{"title":"css æ¯å¤©ä¸€ç»ƒä¹‹æ¨¡æ‹Ÿå•é€‰æŒ‰é’®","date":"2017-05-10T03:30:40.000Z","path":"2017/05/10/cssæ¯æ—¥ä¸€ç»ƒä¹‹æ¨¡æ‹Ÿå•é€‰æŒ‰é’®/","text":"htmlç»“æ„123456789101112131415161718&lt;ul class=&quot;radioes&quot;&gt; &lt;li&gt; &lt;input type=&quot;radio&quot; name=&quot;radio&quot; id=&quot;radio1&quot; checked&gt; &lt;label for=&quot;radio1&quot;&gt;&lt;/label&gt; &lt;/li&gt; &lt;li&gt; &lt;input type=&quot;radio&quot; name=&quot;radio&quot; id=&quot;radio2&quot;&gt; &lt;label for=&quot;radio2&quot;&gt;&lt;/label&gt; &lt;/li&gt; &lt;li&gt; &lt;input type=&quot;radio&quot; name=&quot;radio&quot; id=&quot;radio3&quot;&gt; &lt;label for=&quot;radio3&quot;&gt;&lt;/label&gt; &lt;/li&gt; &lt;li&gt; &lt;input type=&quot;radio&quot; name=&quot;radio&quot; id=&quot;radio4&quot;&gt; &lt;label for=&quot;radio4&quot;&gt;&lt;/label&gt; &lt;/li&gt;&lt;/ul&gt; cssæ ·å¼1234567891011121314151617181920212223242526272829303132333435363738394041ul,li&#123; list-style: none; margin: 0; padding: 0;&#125;.radioes&#123; margin: 100px auto;&#125;.radioes li&#123; float: left; margin: 0 10px;&#125;.radioes input&#123; display: none;&#125;.radioes label&#123; display: block; width: 100px; height: 50px; background-color: #ccc; border-radius: 50px; position: relative; transition: all ease .5s;&#125;.radioes label:after&#123; content: &apos;&apos;; width: 48px; height: 48px; background-color: #fff; border-radius: 50%; position: absolute; left: 0; top: 1px; transition: all ease .5s;&#125;.radioes input:checked + label:after&#123; left: 50px;&#125;.radioes input:checked + label&#123; background-color: #4ace55;&#125; æ¬¢è¿è®¿é—®æˆ‘çš„ç®€ä¹¦ï¼ŒåŒæ­¥å‘å¸ƒæ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡æ­£ã€‚","tags":[{"name":"æ¯æ—¥ä¸€ç»ƒ","slug":"æ¯æ—¥ä¸€ç»ƒ","permalink":"http://viivlgr.github.io/tags/æ¯æ—¥ä¸€ç»ƒ/"}]},{"title":"css æ¯å¤©ä¸€ç»ƒä¹‹ä¸€ä¸ªæ ‡ç­¾å®ç°boxå·¦è¾¹ç«–çº¿","date":"2017-05-09T02:56:40.000Z","path":"2017/05/09/cssæ¯æ—¥ä¸€ç»ƒä¹‹ä¸€ä¸ªæ ‡ç­¾å®ç°boxå·¦è¾¹ç«–çº¿/","text":"htmç»“æ„123456&lt;div class=&quot;box1&quot;&gt;&lt;/div&gt;&lt;div class=&quot;box2&quot;&gt;&lt;/div&gt;&lt;div class=&quot;box3&quot;&gt;&lt;/div&gt;&lt;div class=&quot;box4&quot;&gt;&lt;/div&gt;&lt;div class=&quot;box5&quot;&gt;&lt;/div&gt;&lt;div class=&quot;box6&quot;&gt;&lt;/div&gt; cssæ ·å¼12345678910111213141516171819202122232425262728293031323334div&#123; width: 200px; height: 50px; background-color: #15b9d4; margin: 20px auto; box-sizing: border-box;&#125;.box1&#123; border-left: 5px solid #000;&#125;.box2&#123; box-shadow: inset 5px 0 0 0 #000;&#125;.box3&#123; box-shadow: -5px 0 0 0 #000;&#125;.box4&#123; background-image: linear-gradient(90deg,#000000 5px, transparent 5px);&#125;.box5&#123; filter: drop-shadow(-5px 0 0 #000);&#125;.box6&#123; position: relative;&#125;.box6:after&#123; content: &apos;&apos;; width: 5px; height: 50px; position: absolute; left: 0; top: 0; background-color: #000;&#125; æ¬¢è¿è®¿é—®æˆ‘çš„ç®€ä¹¦ï¼ŒåŒæ­¥å‘å¸ƒæ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡æ­£ã€‚","tags":[{"name":"æ¯æ—¥ä¸€ç»ƒ","slug":"æ¯æ—¥ä¸€ç»ƒ","permalink":"http://viivlgr.github.io/tags/æ¯æ—¥ä¸€ç»ƒ/"}]},{"title":"æŸ¥çœ‹æœ¬åœ°IP","date":"2017-05-09T02:02:40.000Z","path":"2017/05/09/æŸ¥çœ‹æœ¬åœ°IP/","text":"windowsè¾“å…¥ipconfigå›è½¦å³å¯1$ ipconfig macç‰ˆæœ¬ï¼ˆç•¥æœ‰äº›é•¿å•Šï¼‰1$ ifconfig | grep &quot;inet &quot; | grep -v 127.0.0.1 ä»æˆªå›¾å¯ä»¥çœ‹å‡ºæˆ‘ä¹‹å‰ä¸€ç›´æ˜¯ç”¨windowç³»ç»Ÿçš„ï¼Œåˆšå¼€å§‹æ¥è§¦macï¼Œè®°å½•ä¸€ä¸‹å’¯ã€‚ è¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„ğŸï¼Œç„¶åæ‰¾åˆ°ç³»ç»Ÿåå¥½è®¾ç½®ï¼Œæ‰¾åˆ°ç½‘ç»œï¼Œé€‰æ‹©é«˜çº§ï¼Œé€‰æ‹©TCP/IPï¼Œå°±èƒ½çœ‹åˆ°å•¦ã€‚","tags":[{"name":"IP","slug":"IP","permalink":"http://viivlgr.github.io/tags/IP/"}]},{"title":"ä¸ä½¿ç”¨å¾ªç¯ç”Ÿæˆæ•°ç»„","date":"2017-05-06T12:39:40.000Z","path":"2017/05/06/ä¸ä½¿ç”¨å¾ªç¯ç”Ÿæˆæ•°ç»„/","text":"è®°ä¸€æ¬¡é¢è¯•ï¼Œä¸ä½¿ç”¨å¾ªç¯ç”Ÿæˆ100ä½æ•°ç»„ ä¼ ç»Ÿçš„æ–¹æ³•ç”Ÿæˆæ•°ç»„12345678910111213// æ–¹æ³•1var arr = new Array(10);for(var i = 0; i &lt; arr.length; i++)&#123; arr[i] = i;&#125;console.log(arr);// æ–¹æ³•2var arr = [];for(var i = 0; i &lt; 10; i++)&#123; arr.push(i);&#125;console.log(i); ç¬¬ä¸€ç§ä¸ä½¿ç”¨å¾ªç¯ç”Ÿæˆæ•°ç»„çš„æ–¹å¼ ä½¿ç”¨ Array.apply(null,{length:10})ç”Ÿæˆ10ä½çš„æ•°ç»„ï¼Œæ¯ä¸ªå€¼ä¸ºundefinedç„¶åå†ä½¿ç”¨Object.keys()æ–¹æ³•è·å–æ•°ç»„ä¸­æ¯ä¸ªæ•°æ®çš„keyå€¼ï¼Œæ³¨æ„è¿™é‡Œçš„å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦å¤„ç†ä¸ºnumberæ ¼å¼ 123456789101112131415// ç”Ÿæˆ100ä½æ•°ç»„var arr = Array.apply(null,&#123;length: 100&#125;);// è·å–æ•°ç»„çš„å­—ç¬¦ä¸²keyå€¼arr = Object.keys(arr);// å°†å­—ç¬¦ä¸²éå†ä¸ºnumberarr = arr.map(function(item)&#123; return +item;&#125;)// æ€»ä½“çš„å†™æ³•ä¸ºvar arr = Object.keys(Array.apply(null,&#123;length: 100&#125;)).map(function(item)&#123; return +item;&#125;) ç¬¬äºŒç§ä¸ä½¿ç”¨å¾ªç¯ç”Ÿæˆæ•°ç»„çš„æ–¹å¼es6çš„Array.from() å‚è€ƒï¼šArray.from 12Array.from(&#123;length: 100&#125;, (v, i) =&gt; i );// [0,1,2,3....99]; es6çš„Array.prototype.keys()ï¼Œkeys()æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Array Iteratorï¼Œå®ƒåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®ã€‚å‚è€ƒArray.prototype.keys()123var arr = new Array(100).keys();console.log(Array.from(arr));//[0,1,2,3....99];","tags":[{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"http://viivlgr.github.io/tags/æ•°ç»„/"}]},{"title":"mac å®‰è£…MySQL","date":"2017-05-06T02:59:45.000Z","path":"2017/05/06/mac-å®‰è£…MySQL/","text":"å‚è€ƒï¼š Macä¸‹å®‰è£…mysql5.7 å®Œæ•´æ­¥éª¤ï¼ˆå›¾æ–‡è¯¦è§£ï¼‰ ä¸‹è½½MySQLå®˜ç½‘ä¸‹è½½ ç‚¹è¿›å»ä¹‹åï¼Œä½ ä¼šçœ‹åˆ°ä¸¤ä¸ªå¤§å¤§çš„æŒ‰é’®ï¼Œç™»å½•å’Œæ³¨å†Œã€‚å¦‚æœä½ ä¸æƒ³åšè¿™äº›ç¹ççš„åŠ¨ä½œï¼Œåˆ«æ€¥ï¼Œçœ‹ä¸‹å›¾çº¢æ¡†åœˆä¸­çš„æ–‡å­—ï¼Œç‚¹å‡»å°±å¯ä»¥ç›´æ¥ä¸‹è½½äº†ã€‚(æˆ‘å¿˜è®°æˆªå›¾äº†ï¼Œæ‹¿çš„åŸæ–‡ä¸­çš„å›¾) å®‰è£…MySQLä¸‹è½½å®Œæˆåï¼Œç‚¹å‡»å®‰è£…ï¼Œçœ‹åˆ°å…¶ä¸­ä¸€æ­¥ï¼ŒMySQLä¼šåˆ†é…ä¸€ä¸ªéšæœºå¯†ç ï¼Œè®°å¾—ä¿å­˜è¿™ä¸ªå¯†ç ï¼Œä¸è¦åªæˆªå›¾ï¼Œè€Œæ˜¯å¤åˆ¶å‡ºæ¥ï¼Œå› ä¸ºå¯†ç æœ‰ç‚¹å¤æ‚ã€‚ã€‚ã€‚ ä¸€è·¯ç¡®è®¤ï¼Œç­‰å¾…å®‰è£…æˆåŠŸã€‚ å¯åŠ¨MySQLç‚¹å‡»ç³»ç»Ÿåå¥½è®¾ç½®ï¼Œé€‰æ‹©MySQL ç‚¹å‡» start mysql server è¿è¡ŒMySQL è¿è¡Œä¹‹åçº¢è‰²çš„ç‚¹ä¼šå˜æˆç»¿è‰² å‘½ä»¤è¡Œè¿è¡Œåœ¨command+ç©ºæ ¼è¾“å…¥terminal.app æ‰“å¼€å‘½ä»¤è¡Œï¼Œé¦–å…ˆè¿è¡Œä¸‹é¢ä¸¤æ¡å‘½ä»¤ï¼š12alias mysql=/usr/local/mysql/bin/mysqlalias mysqladmin=/usr/local/mysql/bin/mysqladmin è¿™ä¸¤æ¡å‘½ä»¤æ˜¯ä¸ºäº†æ–¹ä¾¿ç›´æ¥æ‰“å¼€ termina å°±å¯ä»¥è¿è¡Œmysqlå‘½ä»¤ï¼Œè€Œä¸æ˜¯å¿…é¡»è¿›å…¥mysqlå®‰è£…ç›®å½•æ‰èƒ½è¿è¡Œã€‚æ¥ä¸‹æ¥ï¼Œä½ è¦åšçš„æ˜¯é‡ç½®å¯†ç  é‡ç½®å¯†ç å‘½ä»¤:1mysqladmin -u root -p password newpass newpass æ˜¯ä½ çš„æ–°å¯†ç è¿è¡Œé‡ç½®å¯†ç çš„å‘½ä»¤åï¼Œç³»ç»Ÿæç¤ºè¾“å…¥æ—§å¯†ç ã€‚ æ—§å¯†ç å°±æ˜¯ä¹‹å‰å®‰è£…è¿‡ç¨‹ä¸­ä¿å­˜å‡ºæ¥çš„éšæœºå¯†ç ã€‚å¦‚æœå½“æ—¶å¿˜è®°ä¿å­˜äº†ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹å³ä¾§é€šçŸ¥æ è¾“å…¥ä¸´æ—¶å¯†ç ï¼Œå¯†ç ä¿®æ”¹æˆåŠŸï¼Œç„¶åç”¨æ–°å¯†ç ç™»å½•ï¼š1mysql -u root -p å›è½¦ï¼Œæ–°å¯†ç ï¼Œå›è½¦ï¼Œç™»å½•æˆåŠŸï¼ç°åœ¨ä½ å¯ä»¥å†™ä½ çš„sqlå‘½ä»¤äº†ï¼","tags":[{"name":"å®‰è£…","slug":"å®‰è£…","permalink":"http://viivlgr.github.io/tags/å®‰è£…/"}]},{"title":"velocityçš„macro","date":"2017-05-05T02:30:34.000Z","path":"2017/05/05/velocityåˆ†é¡µ/","text":"velocityçš„macroï¼ŒåŒ…æ‹¬åˆ†é¡µã€æ‹¼æ¥URLç­‰ã€‚ åˆ†é¡µ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192##åˆ†é¡µæ§åˆ¶å™¨ ##pageRedirctUrl:$pageRedirctUrl=&quot;itemLoveList.do?category=$!&#123;category&#125;&amp;currPageIndex=&quot; ##pageCount æ€»é¡µæ•° ##currPageIndex å½“å‰é¡µ#macro(pager $pageRedirctUrl,$pageCount,$currPageIndex) #set($nextPage=$!currPageIndex+1) #if($!currPageIndex==$!pageCount) #set($nextPage=$!pageCount) #end #set($prePage=$!currPageIndex+(-1)) #if($!currPageIndex==1) #set($prePage=1) #end #set($firstPage=&quot;#addUrlParam($pageRedirctUrl,&apos;page&apos;, 1)&quot;) #set($secondPage=&quot;#addUrlParam($pageRedirctUrl,&apos;page&apos;, 2)&quot;) #set($lastPage=&quot;#addUrlParam($pageRedirctUrl, &apos;page&apos;,$pageCount)&quot;) #set($prePage=&quot;#addUrlParam($pageRedirctUrl,&apos;page&apos;, $prePage)&quot;) #set($nextPage=&quot;#addUrlParam($pageRedirctUrl,&apos;page&apos;,$nextPage)&quot;) #set($endPage=&quot;#addUrlParam($pageRedirctUrl,&apos;page&apos;, $pageCount)&quot;) #if($pageCount&gt;1) &lt;div class=&quot;dataTables_paginate paging_bootstrap pagination&quot;&gt; &lt;ul&gt; #if($currPageIndex != 1) &lt;li class=&quot;prev &quot;&gt;&lt;a href=&quot;$prePage&quot;&gt;â† ä¸Šä¸€é¡µ&lt;/a&gt;&lt;/li&gt; #else &lt;li class=&quot;prev disabled&quot;&gt;&lt;a href=&quot;#&quot;&gt;â† ä¸Šä¸€é¡µ&lt;/a&gt;&lt;/li&gt; #end #if($pageCount &gt;=9) #if($!&#123;currPageIndex&#125; !=1) &lt;li&gt;&lt;a href=&quot;$!&#123;firstPage&#125;&quot;&gt;1&lt;/a&gt;&lt;/li&gt; #else &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt; #end #if($!&#123;currPageIndex&#125; !=2) &lt;li&gt;&lt;a href=&quot;$!&#123;secondPage&#125;&quot;&gt;2&lt;/a&gt;&lt;/li&gt; #else &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt; #end #end #if($&#123;currPageIndex&#125; &gt; $!&#123;pageCount&#125;) #set($&#123;currPageIndex&#125; = $!&#123;pageCount&#125;) #end #if($!&#123;currPageIndex&#125;&gt;0) #if($!&#123;pageCount&#125; &lt;=8) #set($pageStart =1) #set($pageEnd = $!&#123;pageCount&#125; - 1) #else #if($!&#123;pageCount&#125; - $!&#123;currPageIndex&#125;&lt;=3) &lt;li&gt;&lt;a href=&quot;#&quot;&gt;...&lt;/a&gt;&lt;/li&gt; #set($pageStart =$currPageIndex - 2) #set($pageEnd = $!&#123;pageCount&#125; - 1) #else #if($!&#123;currPageIndex&#125;&gt;=10) &lt;li&gt;&lt;a href=&quot;#&quot;&gt;...&lt;/a&gt;&lt;/li&gt; #set($pageStart =$currPageIndex - 3) #set($pageEnd =$currPageIndex + 2) #if($&#123;pageEnd&#125; &gt; $!&#123;pageCount&#125;) #set($&#123;pageEnd&#125; = $!&#123;pageCount&#125;) #end #set($afterApo = 1) #else #set($pageStart =3) #set($pageEnd =$!&#123;currPageIndex&#125;+2) #set($afterApo = 1) #end #end #end #foreach($id in [$&#123;pageStart&#125;..$&#123;pageEnd&#125;]) #if($!id==$!currPageIndex) &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot;&gt;$!&#123;id&#125;&lt;/a&gt;&lt;/li&gt; #else &lt;li&gt;&lt;a href=&quot;#addUrlParam($pageRedirctUrl,&apos;page&apos;,$!&#123;id&#125;)&quot;&gt;$!&#123;id&#125;&lt;/a&gt;&lt;/li&gt; #end #end #end #if($!&#123;pageCount&#125;&gt;1)#if($afterApo)&lt;li&gt;&lt;a href=&quot;#&quot;&gt;...&lt;/a&gt;&lt;/li&gt;#end #if($!pageCount!=$!currPageIndex) &lt;li&gt;&lt;a href=&quot;$!&#123;endPage&#125;&quot;&gt;$!&#123;pageCount&#125;&lt;/a&gt;&lt;/li&gt; &lt;li class=&quot;next&quot;&gt;&lt;a href=&quot;$!&#123;nextPage&#125;&quot;&gt;ä¸‹ä¸€é¡µ â†’ &lt;/a&gt;&lt;/li&gt; #else &lt;li&gt;&lt;a href=&quot;#&quot;&gt;$!&#123;currPageIndex&#125;&lt;/a&gt;&lt;/li&gt; #end #end &lt;/ul&gt; &lt;/div&gt;#end#end è®¡ç®—é¡µç 12345678910111213##è®¡ç®—é¡µç  $totalNumæ€»æ•° $pageNumæ¯é¡µçš„é¡µæ•°#macro(calcuPage $totalNum,$pageNum) #if($!&#123;totalNum&#125; &amp;&amp; $!&#123;pageNum&#125;) #if($totalNum == 0) 1 #else #set($result = ($totalNum - 1) / $pageNum + 1) $result #end #else 1 #end#end æ‹¼å‡‘urlå‚æ•°çš„å®123456789#macro(addUrlParam $url, $paramName, $paramValue) #if($!&#123;url&#125; &amp;&amp; $!&#123;paramName&#125; &amp;&amp; $!&#123;paramValue&#125;) #set($separator = &quot;&amp;&quot;) #if($!&#123;url.indexOf(&quot;?&quot;)&#125; == -1) #set($separator = &quot;?&quot;) #end $url$separator$paramName=$!&#123;paramValue&#125; #end#end åˆ†è§£urlå‚æ•°çš„å®1234567891011121314151617#macro(removeUrlParam $url, $paramName, $paramValue) #if($!&#123;url&#125; &amp;&amp; $!&#123;paramName&#125; &amp;&amp; $!&#123;paramValue&#125;) #set($beReplace=$!&#123;paramName&#125;+&quot;=&quot;+$!&#123;paramValue&#125;) #set($url=$!&#123;url.replace($!&#123;beReplace&#125;,&quot;&quot;)&#125;) #set($url = $url.replace(&quot;&amp;&amp;&quot;, &quot;&amp;&quot;)) #set($url = $!&#123;url.replace(&quot;?&amp;&quot;, &quot;?&quot;)&#125;) #if($url.endsWith(&quot;?&quot;)) #set($url = $!&#123;url.replace(&quot;?&quot;, &quot;&quot;)&#125;) #end #set($url = $!&#123;url.replaceAll(&quot; &quot;,&quot;&quot;)&#125;) #set($url = $!&#123;url.replaceAl(&quot; &quot;,&quot;&quot;)&#125;) #if($!&#123;url.endsWith(&quot;&amp;&quot;)&#125;) #set($url = $!&#123;url.substring(0,$!&#123;url.lastIndexOf(&quot;&amp;&quot;)&#125;)&#125;) #end $url #end #end åœ¨URLä¸­æ·»åŠ æŸ¥è¯¢å‚æ•°1234567891011121314151617181920212223#macro(addQueryParam $url,$paramValue) #if($!&#123;url&#125;) #if($!&#123;url.indexOf(&quot;?&quot;)&#125;&lt;0) $!&#123;url&#125;?q=$paramValue #else #set($qIndex=$!&#123;url.indexOf(&quot;q=&quot;)&#125;) #if($!&#123;qIndex&#125;&lt;0) $!&#123;url&#125;&amp;q=$!&#123;paramValue&#125; #else #set($beforeStr = $!&#123;url.substring(0,$!&#123;qIndex&#125;)&#125;) #set($afterStr = $!&#123;url.substring($!&#123;qIndex&#125;, $!&#123;url.length()&#125;)&#125;) #set($index=$!&#123;afterStr.indexOf(&quot;&amp;&quot;)&#125;) #if ($!&#123;index&#125;&lt;0) $&#123;url&#125;,$!&#123;paramValue&#125; #else #set($beforeStr1=$!&#123;afterStr.substring(0,$!&#123;index&#125;)&#125;) #set($afterStr1 = $!&#123;afterStr.substring($!&#123;index&#125;, $!&#123;afterStr.length()&#125;)&#125;) $!&#123;beforeStr&#125;$!&#123;beforeStr1&#125;,$!&#123;paramValue&#125;$!&#123;afterStr1&#125; #end #end #end #end#end åˆ é™¤URLä¸­çš„æŸ¥è¯¢å‚æ•°123456789101112131415161718192021#macro(removeQueryParam $url,$paramValue) #if($!&#123;url&#125;) #if($!&#123;url.contains(&quot;,$!&#123;paramValue&#125;&quot;)&#125;) $!&#123;url.replace(&quot;,$!&#123;paramValue&#125;&quot;, &quot;&quot;)&#125; #elseif($!&#123;url.contains(&quot;$!&#123;paramValue&#125;,&quot;)&#125;) $!&#123;url.replace(&quot;$!&#123;paramValue&#125;,&quot;, &quot;&quot;)&#125; #elseif($!&#123;url.contains(&quot;q=$!&#123;paramValue&#125;&quot;)&#125;) #set($str=$!&#123;url.replace(&quot;q=$!&#123;paramValue&#125;&quot;,&quot;&quot;)&#125;) #if($!&#123;str.contains(&quot;?&amp;&quot;)&#125;) #set($str=$!&#123;str.replace(&quot;?&amp;&quot;,&quot;?&quot;)&#125;) #elseif($!&#123;str.contains(&quot;&amp;&amp;&quot;)&#125;) #set($str=$!&#123;str.replace(&quot;&amp;&amp;&quot;,&quot;&amp;&quot;)&#125;) #elseif($!&#123;str.endsWith(&quot;?&quot;)&#125;) #set($str = $!&#123;str.substring(0,$!&#123;str.lastIndexOf(&quot;?&quot;)&#125;)&#125;) #elseif($!&#123;str.endsWith(&quot;&amp;&quot;)&#125;) #set($str = $!&#123;str.substring(0,$!&#123;str.lastIndexOf(&quot;&amp;&quot;)&#125;)&#125;) #end $!&#123;str&#125; #end #end#end åˆå§‹åŒ–URL123456789#macro(initUrl $url) #if($!&#123;url&#125;) #if($!&#123;url.endsWith(&quot;?&quot;)&#125;) #set($url = $!&#123;url.replace(&quot;?&quot;, &quot;&quot;)&#125;) #end #set($url = $!&#123;url.replace(&quot;?&amp;&quot;, &quot;?&quot;)&#125;) $url #end#end å°†æ•°å­—æ ¼å¼åŒ–123#macro(discountFormat $discount) $number.format(&apos;#0.0&apos;,$discount)#end doubleç±»å‹å°æ•°ç‚¹æ§åˆ¶åˆ°åä¸¤ä½123#macro(numFormat $num) $number.format(&apos;#0.00&apos;,$num)#end æ–‡æœ¬é•¿åº¦æ§åˆ¶,ç”±äºæ˜¯å­—ç¬¦ä¸²123456789101112131415##æ–‡æœ¬é•¿åº¦æ§åˆ¶,ç”±äºæ˜¯å­—ç¬¦ä¸² ##str éœ€è¦é•¿åº¦æ§åˆ¶çš„å­—ç¬¦ä¸² ##maxLength æˆªå–çš„æœ€å¤§é•¿åº¦ ##subfix åç¼€#macro(previewText $str,$maxLength,$subfix) #if(!$!&#123;str&#125;||!$!&#123;maxLength&#125;||!$!&#123;subfix&#125;) ##æ˜¯ç©ºåˆ™ä¸æ‰§è¡Œ #else #if($&#123;str.length()&#125;&gt;$&#123;maxLength&#125;) $!&#123;str.substring(0,$&#123;maxLength&#125;)&#125;$!&#123;subfix&#125; #else $!&#123;str&#125; #end #end#end æ ¼å¼åŒ–æ—¶é—´æˆ³123#macro(formatTime $timestamp) $timestamp.toString().substring(0,19)#end å°†åœ°åŒºä»£ç è½¬æ¢æˆå¯¹åº”çš„ä¸­æ–‡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768##å°†åœ°åŒºä»£ç è½¬æ¢æˆå¯¹åº”çš„ä¸­æ–‡#macro(transAreaCode $areaCode) #if($!&#123;areaCode&#125;) #if($areaCode == &quot;340000&quot;) å®‰å¾½ #elseif($areaCode == &quot;110000&quot;) åŒ—äº¬ #elseif($areaCode == &quot;350000&quot;) ç¦å»º #elseif($areaCode == &quot;620000&quot;) ç”˜è‚ƒ #elseif($areaCode == &quot;440000&quot;) å¹¿ä¸œ #elseif($areaCode == &quot;450000&quot;) å¹¿è¥¿ #elseif($areaCode == &quot;520000&quot;) è´µå· #elseif($areaCode == &quot;460000&quot;) æµ·å— #elseif($areaCode == &quot;130000&quot;) æ²³åŒ— #elseif($areaCode == &quot;410000&quot;) æ²³å— #elseif($areaCode == &quot;230000&quot;) é»‘é¾™æ±Ÿ #elseif($areaCode == &quot;420000&quot;) æ¹–åŒ— #elseif($areaCode == &quot;430000&quot;) æ¹–å— #elseif($areaCode == &quot;220000&quot;) å‰æ— #elseif($areaCode == &quot;320000&quot;) æ±Ÿè‹ #elseif($areaCode == &quot;360000&quot;) æ±Ÿè¥¿ #elseif($areaCode == &quot;210000&quot;) è¾½å® #elseif($areaCode == &quot;150000&quot;) å†…è’™å¤ #elseif($areaCode == &quot;640000&quot;) å®å¤ #elseif($areaCode == &quot;630000&quot;) é’æµ· #elseif($areaCode == &quot;370000&quot;) å±±ä¸œ #elseif($areaCode == &quot;140000&quot;) å±±è¥¿ #elseif($areaCode == &quot;610000&quot;) é™•è¥¿ #elseif($areaCode == &quot;310000&quot;) ä¸Šæµ· #elseif($areaCode == &quot;510000&quot;) å››å· #elseif($areaCode == &quot;120000&quot;) å¤©æ´¥ #elseif($areaCode == &quot;540000&quot;) è¥¿è— #elseif($areaCode == &quot;650000&quot;) æ–°ç–† #elseif($areaCode == &quot;530000&quot;) äº‘å— #elseif($areaCode == &quot;330000&quot;) æµ™æ±Ÿ #elseif($areaCode == &quot;500000&quot;) é‡åº† #end #end#end è®¡ç®—åˆ†æ¶¦123456789## $totalAmount## $userRate## $superiorRate #macro(calcuBenefit $totalAmount,$userRate,$superiorRate) #set($allBenefit = $math.mul($!&#123;totalAmount&#125;,$!&#123;userRate&#125;)) #set($superiorBenefit = $math.mul($!&#123;totalAmount&#125;,$!&#123;superiorRate&#125;)) $number.format(&quot;#0.00&quot;,$math.sub($allBenefit,$superiorBenefit))#end","tags":[{"name":"åˆ†é¡µ","slug":"åˆ†é¡µ","permalink":"http://viivlgr.github.io/tags/åˆ†é¡µ/"}]},{"title":"æ•°ç»„æ’åºä¸ä¹±åº","date":"2017-05-04T10:13:40.000Z","path":"2017/05/04/æ•°ç»„æ’åºä¸ä¹±åº/","text":"ä¸€ã€è§„åˆ™æ’åºsort()æ–¹æ³•åœ¨é»˜è®¤æƒ…å†µä¸‹æŒ‰ç…§å‡åºæ’åˆ—æ•°ç»„é¡¹â€”å³ä»å°åˆ°å¤§æ’åºï¼Œä¸ºäº†å®ç°æ’åºï¼Œsort()æ–¹æ³•ä¼šè°ƒç”¨æ¯ä¸€é¡¹çš„toString()è½¬å‹æ–¹æ³•ï¼Œæ¥æ¯”è¾ƒå¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œä»¥ç¡®å®šå¦‚ä½•æ’åºã€‚å³ä½¿æ•°ç»„ä¸­æ¯ä¸€é¡¹éƒ½æ˜¯æ•°å€¼ï¼Œsort()æ¯”è¾ƒçš„ä¹Ÿæ˜¯å­—ç¬¦ä¸²ã€‚ 123var values = [0, 1, 5, 10, 15];values.sort();alert(values); //0,1,10,15,5 æ‰€ä»¥æƒ³è¦æ¯”è¾ƒæ•°å€¼çš„æ—¶å€™ï¼Œå•å•ä½¿ç”¨sort()æ–¹æ³•æ˜¯ä¸å‡†ç¡®çš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ä½œä¸ºsort()çš„å‚æ•°ã€‚ 12345var values = [0, 1, 5, 10, 15];values.sort(function(prev,next)&#123; return prev-next;&#125;);alert(values); // 0,1,5,10,15 æƒ³è¦åè½¬æ•°ç»„çš„é¡ºåºåªéœ€è¦æ‰§è¡Œreserve()æ–¹æ³•å³å¯ã€‚ ä¹±åºä¹±åºçš„è¯éœ€è¦å¯¹sort()ä¸­çš„æ¯”è¾ƒå‡½æ•°è¿”å›å€¼åšä¸€äº›æ“ä½œï¼Œè®©è¿”å›å€¼éšå³ä¸ºæ­£ï¼ˆå‡åºï¼‰ã€è´Ÿï¼ˆé™åºï¼‰; 12345678var values = [0, 1, 5, 10, 15];values.sort(function(prev,next)&#123; //å› ä¸ºMath.randomäº§ç”Ÿçš„æ•°åœ¨0-1ä¹‹é—´ //æ‰€ä»¥0.5ä¸¤è¾¹çš„æ¦‚ç‡æ˜¯ç›¸ç­‰çš„ //å¤§äº0.5æ—¶ä¸ºå‡åºï¼Œå°äº0.5æ—¶ä¸ºé™åº return Math.random() - 0.5;&#125;);alert(values);","tags":[{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"http://viivlgr.github.io/tags/æ•°ç»„/"}]},{"title":"velocityçš„ç®€å•ç”¨æ³•","date":"2017-05-04T09:53:32.000Z","path":"2017/05/04/velocityçš„ç®€å•ç”¨æ³•/","text":"ä½¿ç”¨Velocity Toolsçš„æ—¶å€™ï¼Œä¸€å®šè¦åœ¨toolbox.xmlä¸­æŒ‡å®šï¼Œç„¶ååœ¨åº”ç”¨çš„web.xmlä¸­é…ç½®ã€‚ å…³äºdateï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šå‡½æ•°ä¸¾ä¾‹æ˜¾ç¤ºç»“æœ 123456789101112131415$date 2008-04-22 $date.long 2008å¹´4æœˆ22æ—¥ ä¸‹åˆ10æ—¶58åˆ†54ç§’ $date.medium_time 22:58:54 $date.full_date 2008å¹´4æœˆ22æ—¥ æ˜ŸæœŸäºŒ $date.yyyy 2008 $date.get(&apos;default&apos;,&apos;short&apos;) 2008-4-22 ä¸‹åˆ10:58 $date.get(&apos;yyyy-M-d H:m:s&apos;) 2008-4-22 22:58:54 $date.whenIs(&apos;2008-04-20&apos;) 2 days 22 hours ago $date.whenIs(&apos;2008-04-20&apos;).full 2 days 22 hours 58 minutes 54 seconds 484 milliseconds ago $date.whenIs(&apos;2008-04-20&apos;).days -2 $date.whenIs(&apos;2008-04-20&apos;) 22 hours 58 minutes ago $date.whenIs(&apos;2008-04-20&apos;,&apos;2008-04-20&apos;) same time$date.difference(&apos;2008-04-20&apos;, &apos;2008-04-20&apos;) 2 days$date.whenIs(&apos;2008-04-20&apos;).days -2 å…³äºmathï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šå‡½æ•°ä¸¾ä¾‹æ˜¾ç¤ºç»“æœ 123456789101112131415161718$math.add(&quot;10&quot;,&quot;4&quot;) 14 $math.sub(&quot;100&quot;,&quot;20&quot;) 80 $math.mul(&quot;11&quot;,&quot;7&quot;) 77 $math.div(&quot;100&quot;,&quot;5&quot;) 20 $math.idiv(&quot;100&quot;,&quot;5&quot;) 20 $math.pow(&quot;2&quot;,&quot;5&quot;) 32 $math.mod(&quot;13&quot;,&quot;5&quot;) 3 $math.max(&quot;99&quot;,&quot;16&quot;) 99 $math.min(&quot;99&quot;,&quot;16&quot;) 16 $math.abs(&quot;-99&quot;) 99 $math.cell(&quot;99.26&quot;) $math.cell(&quot;99.26&quot;) $math.floor(&quot;99.26&quot;) 99 $math.random 0.7663665545444911 $math.random(&quot;1&quot;,&quot;10&quot;) 2 $math.roundTo(&quot;2&quot;,&quot;5&quot;) 5.0 $math.toInteger(&quot;15&quot;) 15 $math.toDouble(&quot;15&quot;) 15.0 $math.toNumber(&quot;15&quot;) 15 å…³äºnumberï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šå‡½æ•°ä¸¾ä¾‹æ˜¾ç¤ºç»“æœ 12345678$number org.apache.velocity.tools.generic.NumberTool@32c41c$number.currency(&quot;35&quot;) ï¿¥35.00 $number.format #0.0 $number.locale zh_CN $number.format(&quot;35&quot;) 35.0 $number.integer(&quot;35.47&quot;) 35 $number.number(&quot;35.47&quot;) 35.47 $number.percent(&quot;0.3547&quot;) 35% $number.toNumber(&quot;35.47&quot;) 35.47 å…³äºsorterï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šå‡½æ•°ä¸¾ä¾‹æ˜¾ç¤ºç»“æœ 12$sorter.sort([&apos;d&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]) [a, b, c, d] $sorter.sort([5,1,12,3]) [1, 3, 5, 12] sorterå·¥å…·ï¼Œå¯ä»¥å¯¹æŒ‡å®šçš„é›†åˆè¿›è¡Œæ’åºï¼Œå¦‚Listï¼ŒArrayï¼ŒMapç­‰ç­‰ã€‚ å…³äºescï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šå‡½æ•°ä¸¾ä¾‹æ˜¾ç¤ºç»“æœ 123456789101112131415161718192021222324252627$esc org.apache.velocity.tools.generic.EscapeTool@e09a07 $esc.b \\ $esc.backslash \\ $esc.d $ $esc.dollar $ $esc.e ! $esc.exclamation ! $esc.h # $esc.hash # $esc.q &quot; $esc.quote &quot; \\esc.s esc.s $esc.singleQuote &apos; $esc.html(&quot;$esc.backslash&quot;) \\ $esc.url(&quot;shirdrn.org/users/index.vm?id=1&amp;name=å¼‚åŸŸç‹è€…&quot;) shirdrn.org%2Fusers%2Findex.vm%3Fid%3D1%26name%3D%E5%BC%82%E5%9F%9F%E7%8E%8B%E8%80%85 $esc.sql(&quot;SELECT * FROM PERSON WHERE ID=&apos;2008042319831&apos;&quot;) SELECT * FROM PERSON WHERE ID=&apos;&apos;2008042319831&apos;&apos; \\$esc.java() [è¯´æ˜]Escapes the characters in a String using Java String rules. \\$esc.javascript() [è¯´æ˜]Escapes the characters in a String using JavaScript String rules. \\$esc.xml() [è¯´æ˜]Escapes the characters in a String using XML entities. \\$esc.propertyKey() [è¯´æ˜]Escapes the characters in a String using java.util.Properties rules for escaping keys. \\$esc.propertyValue() [è¯´æ˜]Escapes the characters in a String using java.util.Properties rules for escaping values. å‚è€ƒï¼šVelocityä¸­çš„ComparisonDateToolã€MathToolã€NumberTooâ€¦","tags":[{"name":"ç®€å•æ“ä½œ","slug":"ç®€å•æ“ä½œ","permalink":"http://viivlgr.github.io/tags/ç®€å•æ“ä½œ/"}]},{"title":"hexoå‘å¸ƒæ–‡ç« ç®€æ˜“æ­¥éª¤","date":"2017-05-04T09:45:17.000Z","path":"2017/05/04/publicText/","text":"hexoç®€å•æ“ä½œ è¯¦ç»†å»ºç«‹åŸºäºGitHubçš„hexoåšå®¢è¯·æŸ¥çœ‹æˆ‘å‘å¸ƒåœ¨çŸ¥ä¹ä¸Šé¢çš„æ–‡ç« å…³äºæ­å»ºä¸€ä¸ªåŸºäºGitHubçš„hexoåšå®¢ æ–°å»º hello æ–‡ä»¶1$ hexo new &apos;hello&apos; æ‰“å¼€ hello.md æ–‡ä»¶ç¼–è¾‘1234567891011121314title: hellodate: 2017-03-29 22:37:23categories: - æ—¥å¿— - äºŒçº§ç›®å½•tags: - hello---æ‘˜è¦éƒ¨åˆ†&lt;!--more--&gt;æ­£æ–‡éƒ¨åˆ† å‘å¸ƒåšå®¢1$ hexo d -g","tags":[{"name":"å‘å¸ƒæ–‡ç« ","slug":"å‘å¸ƒæ–‡ç« ","permalink":"http://viivlgr.github.io/tags/å‘å¸ƒæ–‡ç« /"}]},{"title":"jsonp","date":"2017-05-04T09:06:28.000Z","path":"2017/05/04/jsonp/","text":"å‚è€ƒï¼šè½»æ¾æå®šJSONPè·¨åŸŸè¯·æ±‚å‚è€ƒï¼šJavaScript è·¨åŸŸæ€»ç»“ä¸è§£å†³åŠæ³•&amp;version=12020510&amp;nettype=WIFI&amp;fontScale=100&amp;pass_ticket=RBWQ%2BryWlU3B%2FMZnILchEGXaFr0LZOqQqXF1pghzJA2zCFx6uqWXuR1ObQWRc5R2)è¦ç†è§£è·¨åŸŸï¼Œå…ˆè¦äº†è§£ä¸€ä¸‹â€œåŒæºç­–ç•¥â€ã€‚ æ‰€è°“åŒæºæ˜¯æŒ‡ï¼ŒåŸŸåï¼Œåè®®ï¼Œç«¯å£ç›¸åŒã€‚ç®€å•çš„è¯´å°±æ˜¯åŸºäºå®‰å…¨è€ƒè™‘ï¼Œå½“å‰åŸŸä¸èƒ½è®¿é—®å…¶ä»–åŸŸçš„ä¸œè¥¿ã€‚ ä»€ä¹ˆæ˜¯è·¨åŸŸ JavaScriptå‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œä¸å…è®¸è·¨åŸŸè°ƒç”¨å…¶ä»–é¡µé¢çš„å¯¹è±¡ã€‚ä½†åœ¨å®‰å…¨é™åˆ¶çš„åŒæ—¶ä¹Ÿç»™æ³¨å…¥iframeæˆ–æ˜¯ajaxåº”ç”¨ä¸Šå¸¦æ¥äº†ä¸å°‘éº»çƒ¦ã€‚ ç½‘ä¸Šä¸€å¼ åˆ—ä¸¾è·¨åŸŸçš„è¯¦ç»†æ¸…å•ï¼š URL è¯´æ˜ æ˜¯å¦å…è®¸é€šä¿¡ http://www.a.com/a.js http://www.a.com/b.js åŒä¸€åŸŸåä¸‹ å…è®¸ http://www.a.com/lib/a.js http://www.a.com/script/b.js åŒä¸€åŸŸåä¸‹ä¸åŒæ–‡ä»¶å¤¹ å…è®¸ http://www.a.com:8080/a.js http://www.a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒç«¯å£ ä¸å…è®¸ http://www.a.com/a.js https://www.a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒåè®® ä¸å…è®¸ http://www.a.com/a.js http://70.32.92.74/b.js åŸŸåå’ŒåŸŸåå¯¹åº”IP ä¸å…è®¸ http://www.a.com/a.js http://script.a.com/b.js ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒ ä¸å…è®¸ http://www.a.com/a.js http://a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒäºŒçº§åŸŸå (åŒä¸Š) ä¸å…è®¸ï¼ˆcookieè¿™ç§æƒ…å†µä¸‹ä¹Ÿä¸å…è®¸è®¿é—®ï¼‰ http://www.cnblogs.com/a.js http://www.a.com/b.js ä¸åŒåŸŸå ä¸å…è®¸ æœ‰ä¸¤ç‚¹è¦ç‰¹åˆ«æ³¨æ„ï¼š å¦‚æœæ˜¯åè®®å’Œç«¯å£é€ æˆçš„è·¨åŸŸé—®é¢˜â€œå‰å°â€æ˜¯æ— èƒ½ä¸ºåŠ›çš„ åœ¨è·¨åŸŸé—®é¢˜ä¸Šï¼ŒåŸŸä»…ä»…æ˜¯é€šè¿‡â€œURLçš„é¦–éƒ¨â€æ¥è¯†åˆ«è€Œä¸ä¼šå»å°è¯•åˆ¤æ–­ç›¸åŒçš„ipåœ°å€å¯¹åº”ç€ä¸¤ä¸ªåŸŸæˆ–ä¸¤ä¸ªåŸŸæ˜¯å¦åœ¨åŒä¸€ä¸ªipä¸Šã€‚ â€œURLçš„é¦–éƒ¨â€æŒ‡window.location.protocol +window.location.hostï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºâ€œDomains, protocols and ports must matchâ€ã€‚ æ‹¿è±†ç“£çš„apiç®€å•å°è¯•ä¸€ä¸‹è·¨åŸŸè¯·æ±‚å‡ºç°çš„é—®é¢˜ã€‚12345678910111213141516 window.onload = function()&#123; var oBtn = document.getElementById('btn'); oBtn.onclick = function()&#123; var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function()&#123; if(xhr.readyState == 4 &amp;&amp; xhr.status == 200)&#123; console.log(xhr.responseText); &#125; &#125; // No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. xhr.open('get','https://api.douban.com/v2/book/search?q=javascript&amp;count=1',true); xhr.send(); &#125;&#125; æµè§ˆå™¨ä¼šæŠ¥å‡ºä¸Šé¢çš„é”™è¯¯ ï¼Œè¯·æ±‚èµ„æºä¸Šä¸å­˜åœ¨â€œè®¿é—®æ§åˆ¶å…è®¸æºâ€æ ‡å¤´ã€‚ JSONP æ˜¯ JSON with paddingï¼ˆå¡«å……å¼ JSON æˆ–å‚æ•°å¼ JSONï¼‰çš„ç®€å†™ æˆ‘ä»¬çŸ¥é“ï¼Œ&lt;img&gt;çš„srcï¼ˆè·å–å›¾ç‰‡ï¼‰ï¼Œ&lt;link&gt;çš„hrefï¼ˆè·å–cssï¼‰ï¼Œ&lt;script&gt;çš„srcï¼ˆè·å–javascriptï¼‰è¿™ä¸‰ä¸ªéƒ½ä¸ç¬¦åˆåŒæºç­–ç•¥ï¼Œå®ƒä»¬å¯ä»¥è·¨åŸŸè·å–æ•°æ®ã€‚ è¿™é‡Œè¦ä»‹ç»çš„JSONPå°±æ˜¯åˆ©ç”¨ &lt;script&gt; çš„srcæ¥å®ç°è·¨åŸŸè·å–æ•°æ®çš„ã€‚ å®ç°è·¨åŸŸçš„åŸç†å°±æ˜¯åŠ¨æ€ç”Ÿæˆ&lt;script&gt;æ ‡ç­¾ï¼Œç„¶ååˆ©ç”¨&lt;script&gt;çš„srcä¸å—åŒæºç­–ç•¥çº¦æŸæ¥è·¨åŸŸè·å–æ•°æ®ã€‚ 123456789101112131415 function handleResponse(response)&#123; console.log(response);&#125;window.onload = function()&#123; var oBtn = document.getElementById('btn'); oBtn.onclick = function()&#123; // åŠ¨æ€ç”Ÿæˆscriptæ ‡ç­¾ï¼Œå°†è¯·æ±‚è·¯å¾„èµ‹ç»™srcï¼Œç„¶åæ”¾åˆ°æ–‡æ¡£ä¸­ var script = document.createElement('script'); script.src = 'https://api.douban.com/v2/book/search?q=javascript&amp;count=1&amp;callback=handleResponse'; document.body.insertBefore(script,document.body.firstChild); &#125;&#125; ä½¿ç”¨jqueryçš„å°è£…å¥½çš„jsonpæ¥å®ç°è·¨åŸŸ12345678910111213141516$.ajax(&#123; async: true, url: 'https://api.douban.com/v2/book/search', type: 'GET', dataType: 'jsonp', //è¿”å›çš„æ•°æ®ç±»å‹ï¼Œè®¾ç½®ä¸ºjsonpæ–¹å¼ jsonp: 'callback', // æŒ‡å®šä¸€ä¸ªæŸ¥è¯¢å‚æ•°åç§°æ¥è¦†ç›–é»˜è®¤çš„jsonpå›è°ƒå‚æ•° callback jsonpCallback: 'handleResponse', // è®¾ç½®å›è°ƒå‡½æ•°å data: &#123; q: 'javascript', count: 1 &#125;, success: function(response,status,xhr)&#123; console.log('çŠ¶æ€ä¸ºï¼š'+status+'çŠ¶æ€æ˜¯ï¼š'+xhr.statusText); console.log(response); &#125;&#125;) ä½¿ç”¨$.getJSONæ¥å®ç°è·¨åŸŸ12345678$.getJSON('https://api.douban.com/v2/book/search?callback=?',&#123; q: 'javascript', count: 1&#125;,function(response,status,xhr)&#123; console.log('çŠ¶æ€ä¸ºï¼š'+status+'çŠ¶æ€æ˜¯ï¼š'+xhr.statusText); console.log(response);&#125;) document.domain+iframeçš„è®¾ç½®å¯¹äºä¸»åŸŸç›¸åŒè€Œå­åŸŸä¸åŒçš„ä¾‹å­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®document.domainçš„åŠæ³•æ¥è§£å†³ã€‚ å…·ä½“çš„åšæ³•æ˜¯å¯ä»¥åœ¨http://www.a.com/a.htmlå’Œhttp://script.a.com/b.htmlä¸¤ä¸ªæ–‡ä»¶ä¸­åˆ†åˆ«åŠ ä¸Š document.domain = â€˜a.comâ€™ï¼›ç„¶åé€šè¿‡a.htmlæ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªiframeï¼Œå»æ§åˆ¶iframeçš„contentDocumentï¼Œè¿™æ ·ä¸¤ä¸ªjsæ–‡ä»¶ä¹‹é—´å°±å¯ä»¥ â€œäº¤äº’â€äº†ã€‚å½“ç„¶è¿™ç§åŠæ³•åªèƒ½è§£å†³ä¸»åŸŸç›¸åŒè€ŒäºŒçº§åŸŸåä¸åŒçš„æƒ…å†µï¼Œå¦‚æœä½ å¼‚æƒ³å¤©å¼€çš„æŠŠscript.a.comçš„domianè®¾ä¸ºalibaba.com é‚£æ˜¾ç„¶æ˜¯ä¼šæŠ¥é”™åœ°ï¼ä»£ç å¦‚ä¸‹ï¼š 123456789101112// www.a.comä¸Šçš„a.htmldocument.domain = &apos;a.com&apos;;var ifr = document.createElement(&apos;iframe&apos;);ifr.src = &apos;http://script.a.com/b.html&apos;;ifr.style.display = &apos;none&apos;;document.body.appendChild(ifr);ifr.onload = function()&#123; var doc = ifr.contentDocument || ifr.contentWindow.document; // åœ¨è¿™é‡Œæ“çºµb.html alert(doc.getElementsByTagName(&quot;h1&quot;)[0].childNodes[0].nodeValue);&#125;; 123// script.a.comä¸Šçš„b.htmldocument.domain = &apos;a.com&apos;; è¿™ç§æ–¹å¼é€‚ç”¨äºwww.kuqin.com, kuqin.com, script.kuqin.com, css.kuqin.comä¸­çš„ä»»ä½•é¡µé¢ç›¸äº’é€šä¿¡ã€‚ å¤‡æ³¨ï¼š æŸä¸€é¡µé¢çš„domainé»˜è®¤ç­‰äºwindow.location.hostnameã€‚ ä¸»åŸŸåæ˜¯ä¸å¸¦wwwçš„åŸŸåï¼Œä¾‹å¦‚a.comï¼Œ ä¸»åŸŸåå‰é¢å¸¦å‰ç¼€çš„é€šå¸¸éƒ½ä¸ºäºŒçº§åŸŸåæˆ–å¤šçº§åŸŸåï¼Œä¾‹å¦‚www.a.comå…¶å®æ˜¯äºŒçº§åŸŸåã€‚ domainåªèƒ½è®¾ç½®ä¸ºä¸»åŸŸåï¼Œä¸å¯ä»¥åœ¨b.a.comä¸­å°†domainè®¾ç½®ä¸ºc.a.comã€‚ é—®é¢˜ï¼š å®‰å…¨æ€§ï¼Œå½“ä¸€ä¸ªç«™ç‚¹ï¼ˆb.a.comï¼‰è¢«æ”»å‡»åï¼Œå¦ä¸€ä¸ªç«™ç‚¹ï¼ˆc.a.comï¼‰ä¼šå¼•èµ·å®‰å…¨æ¼æ´ã€‚ å¦‚æœä¸€ä¸ªé¡µé¢ä¸­å¼•å…¥å¤šä¸ªiframeï¼Œè¦æƒ³èƒ½å¤Ÿæ“ä½œæ‰€æœ‰iframeï¼Œå¿…é¡»éƒ½å¾—è®¾ç½®ç›¸åŒdomainã€‚","tags":[{"name":"jquery","slug":"jquery","permalink":"http://viivlgr.github.io/tags/jquery/"}]},{"title":"å­¦ä¹ ä½¿ç”¨markdownè¯­æ³•","date":"2017-03-29T17:57:41.000Z","path":"2017/03/30/learn-markdown/","text":"å¼€å¯markdownè®°å½•ä¹‹è·¯~ ä¸€çº§æ ‡é¢˜äºŒçº§æ ‡é¢˜ä¸‰çº§æ ‡é¢˜å››çº§æ ‡é¢˜äº”çº§æ ‡é¢˜å…­çº§æ ‡é¢˜æ— åºåˆ—è¡¨ åˆ—è¡¨1 åˆ—è¡¨1.1 åˆ—è¡¨1.2 åˆ—è¡¨2 åˆ—è¡¨3 æœ‰åºåˆ—è¡¨ åˆ—è¡¨1 åˆ—è¡¨1.1 åˆ—è¡¨1.2 åˆ—è¡¨2 åˆ—è¡¨3 å¼•ç”¨ è®°å½•ï¼Œæˆä¸ºæ›´å¥½çš„è‡ªå·± ç²—ä½“å’Œæ–œä½“è¿™æ˜¯æ–œä½“è¿™æ˜¯ç²—ä½“ é“¾æ¥ä¸å›¾ç‰‡æˆ‘çš„åšå®¢ åˆ†å‰²çº¿è¿™æ˜¯ç¬¬ä¸€æ®µå†…å®¹ è¿™æ˜¯ç¬¬äºŒæ®µå†…å®¹ ä»£ç é«˜äº®123function()&#123; &#125; åˆ¶ä½œå¾…åŠäº‹é¡¹TODOlist [x] å·²å®Œæˆé¡¹ç›®1 [x] å·²å®Œæˆäº‹é¡¹1 [ ] å¾…åŠäº‹é¡¹2 [ ] å¾…åŠé¡¹ç›®2 [ ] å¾…åŠé¡¹ç›®3 æµç¨‹å›¾123456graph TD A[Christmas] --&gt;B(Go shopping) B --&gt; C&#123;let me think&#125; C --&gt; |One| D[laptop] C --&gt; |Two| E[iphone] C --&gt; |Three| F[Car] åºåˆ—å›¾12345sequenceDiagram loop every day Alice -&gt;&gt; John:Hello John,how are you? John--&gt;&gt;Alice:Great! end ç”˜ç‰¹å›¾123456789ganttdateFormat YYYY-MM-DDtitle äº§å“è®¾è®¡è¡¨section åˆæœŸé˜¶æ®µæ˜ç¡®éœ€æ±‚:2016-03-01,10dsection ä¸­æœŸé˜¶æ®µè·Ÿè¿›å¼€å‘:2016-03-11,15dsection åæœŸé˜¶æ®µèµ°æŸ¥æµ‹è¯•:2016-03-20,9d è¡¨æ ¼ Item Value Qty Computer 1600 USD 5 Phone 12 USD 12 Pipe 1 USD 234","tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://viivlgr.github.io/tags/å·¥å…·/"}]},{"title":"æˆ‘çš„åšå®¢ç»ˆäºå‡ºç”Ÿå•¦~","date":"2017-03-29T16:56:41.000Z","path":"2017/03/30/build-hexo-and-change-theme/","text":"å±äºviivlgrçš„åšå®¢å‡ºç”Ÿè®°~ ç‰¹åˆ«æ„Ÿè°¢HJMçš„åˆ†äº« æ­å»ºhexoåŠæ›¿æ¢ä¸»é¢˜","tags":[{"name":"first commit","slug":"first-commit","permalink":"http://viivlgr.github.io/tags/first-commit/"}]},{"title":"Hello World","date":"2017-03-28T18:08:10.000Z","path":"2017/03/29/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[]}]