[{"title":"velocity分页","date":"2017-05-05T02:30:34.000Z","path":"2017/05/05/velocity分页/","text":"","tags":[]},{"title":"数组排序与乱序","date":"2017-05-04T10:13:40.000Z","path":"2017/05/04/数组排序与乱序/","text":"一、规则排序sort()方法在默认情况下按照升序排列数组项—即从小到大排序，为了实现排序，sort()方法会调用每一项的toString()转型方法，来比较得到的字符串，以确定如何排序。即使数组中每一项都是数值，sort()比较的也是字符串。 123var values = [0, 1, 5, 10, 15];values.sort();alert(values); //0,1,10,15,5 所以想要比较数值的时候，单单使用sort()方法是不准确的，我们需要一个比较函数作为sort()的参数。 12345var values = [0, 1, 5, 10, 15];values.sort(function(prev,next)&#123; return prev-next;&#125;);alert(values); // 0,1,5,10,15 想要反转数组的顺序只需要执行reserve()方法即可。 乱序乱序的话需要对sort()中的比较函数返回值做一些操作，让返回值随即为正（升序）、负（降序）; 12345678var values = [0, 1, 5, 10, 15];values.sort(function(prev,next)&#123; //因为Math.random产生的数在0-1之间 //所以0.5两边的概率是相等的 //大于0.5时为升序，小于0.5时为降序 return Math.random() - 0.5;&#125;);alert(values);","tags":[{"name":"数组","slug":"数组","permalink":"http://viivlgr.github.io/tags/数组/"}]},{"title":"velocity的简单用法","date":"2017-05-04T09:53:32.000Z","path":"2017/05/04/velocity的简单用法/","text":"使用Velocity Tools的时候，一定要在toolbox.xml中指定，然后在应用的web.xml中配置。 关于date，如下所示：函数举例显示结果 123456789101112131415$date 2008-04-22 $date.long 2008年4月22日 下午10时58分54秒 $date.medium_time 22:58:54 $date.full_date 2008年4月22日 星期二 $date.yyyy 2008 $date.get(&apos;default&apos;,&apos;short&apos;) 2008-4-22 下午10:58 $date.get(&apos;yyyy-M-d H:m:s&apos;) 2008-4-22 22:58:54 $date.whenIs(&apos;2008-04-20&apos;) 2 days 22 hours ago $date.whenIs(&apos;2008-04-20&apos;).full 2 days 22 hours 58 minutes 54 seconds 484 milliseconds ago $date.whenIs(&apos;2008-04-20&apos;).days -2 $date.whenIs(&apos;2008-04-20&apos;) 22 hours 58 minutes ago $date.whenIs(&apos;2008-04-20&apos;,&apos;2008-04-20&apos;) same time$date.difference(&apos;2008-04-20&apos;, &apos;2008-04-20&apos;) 2 days$date.whenIs(&apos;2008-04-20&apos;).days -2 关于math，如下所示：函数举例显示结果 123456789101112131415161718$math.add(&quot;10&quot;,&quot;4&quot;) 14 $math.sub(&quot;100&quot;,&quot;20&quot;) 80 $math.mul(&quot;11&quot;,&quot;7&quot;) 77 $math.div(&quot;100&quot;,&quot;5&quot;) 20 $math.idiv(&quot;100&quot;,&quot;5&quot;) 20 $math.pow(&quot;2&quot;,&quot;5&quot;) 32 $math.mod(&quot;13&quot;,&quot;5&quot;) 3 $math.max(&quot;99&quot;,&quot;16&quot;) 99 $math.min(&quot;99&quot;,&quot;16&quot;) 16 $math.abs(&quot;-99&quot;) 99 $math.cell(&quot;99.26&quot;) $math.cell(&quot;99.26&quot;) $math.floor(&quot;99.26&quot;) 99 $math.random 0.7663665545444911 $math.random(&quot;1&quot;,&quot;10&quot;) 2 $math.roundTo(&quot;2&quot;,&quot;5&quot;) 5.0 $math.toInteger(&quot;15&quot;) 15 $math.toDouble(&quot;15&quot;) 15.0 $math.toNumber(&quot;15&quot;) 15 关于number，如下所示：函数举例显示结果 12345678$number org.apache.velocity.tools.generic.NumberTool@32c41c$number.currency(&quot;35&quot;) ￥35.00 $number.format #0.0 $number.locale zh_CN $number.format(&quot;35&quot;) 35.0 $number.integer(&quot;35.47&quot;) 35 $number.number(&quot;35.47&quot;) 35.47 $number.percent(&quot;0.3547&quot;) 35% $number.toNumber(&quot;35.47&quot;) 35.47 关于sorter，如下所示：函数举例显示结果 12$sorter.sort([&apos;d&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]) [a, b, c, d] $sorter.sort([5,1,12,3]) [1, 3, 5, 12] sorter工具，可以对指定的集合进行排序，如List，Array，Map等等。 关于esc，如下所示：函数举例显示结果 123456789101112131415161718192021222324252627$esc org.apache.velocity.tools.generic.EscapeTool@e09a07 $esc.b \\ $esc.backslash \\ $esc.d $ $esc.dollar $ $esc.e ! $esc.exclamation ! $esc.h # $esc.hash # $esc.q &quot; $esc.quote &quot; \\esc.s esc.s $esc.singleQuote &apos; $esc.html(&quot;$esc.backslash&quot;) \\ $esc.url(&quot;shirdrn.org/users/index.vm?id=1&amp;name=异域王者&quot;) shirdrn.org%2Fusers%2Findex.vm%3Fid%3D1%26name%3D%E5%BC%82%E5%9F%9F%E7%8E%8B%E8%80%85 $esc.sql(&quot;SELECT * FROM PERSON WHERE ID=&apos;2008042319831&apos;&quot;) SELECT * FROM PERSON WHERE ID=&apos;&apos;2008042319831&apos;&apos; \\$esc.java() [说明]Escapes the characters in a String using Java String rules. \\$esc.javascript() [说明]Escapes the characters in a String using JavaScript String rules. \\$esc.xml() [说明]Escapes the characters in a String using XML entities. \\$esc.propertyKey() [说明]Escapes the characters in a String using java.util.Properties rules for escaping keys. \\$esc.propertyValue() [说明]Escapes the characters in a String using java.util.Properties rules for escaping values. 参考：Velocity中的ComparisonDateTool、MathTool、NumberToo…","tags":[{"name":"简单操作","slug":"简单操作","permalink":"http://viivlgr.github.io/tags/简单操作/"}]},{"title":"hexo发布文章简易步骤","date":"2017-05-04T09:45:17.000Z","path":"2017/05/04/publicText/","text":"hexo简单操作 详细建立基于GitHub的hexo博客请查看我发布在知乎上面的文章关于搭建一个基于GitHub的hexo博客 新建 hello 文件1$ hexo new &apos;hello&apos; 打开 hello.md 文件编辑1234567891011121314title: hellodate: 2017-03-29 22:37:23categories: - 日志 - 二级目录tags: - hello---摘要部分&lt;!--more--&gt;正文部分 发布博客1$ hexo d -g","tags":[{"name":"发布文章","slug":"发布文章","permalink":"http://viivlgr.github.io/tags/发布文章/"}]},{"title":"jsonp","date":"2017-05-04T09:06:28.000Z","path":"2017/05/04/jsonp/","text":"参考：轻松搞定JSONP跨域请求 一直没有搞清楚跨域是怎么一回事，这次拿豆瓣的api简单尝试一下。 要理解跨域，先要了解一下“同源策略”。 所谓同源是指，域名，协议，端口相同。简单的说就是基于安全考虑，当前域不能访问其他域的东西。 12345678910111213141516 window.onload = function()&#123; var oBtn = document.getElementById('btn'); oBtn.onclick = function()&#123; var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function()&#123; if(xhr.readyState == 4 &amp;&amp; xhr.status == 200)&#123; console.log(xhr.responseText); &#125; &#125; // No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. xhr.open('get','https://api.douban.com/v2/book/search?q=javascript&amp;count=1',true); xhr.send(); &#125;&#125; 浏览器会报出上面的错误 ，请求资源上不存在“访问控制允许源”标头。 JSONP 是 JSON with padding（填充式 JSON 或参数式 JSON）的简写 我们知道，img的src（获取图片），link的href（获取css），script的src（获取javascript）这三个都不符合同源策略，它们可以跨域获取数据。 这里要介绍的JSONP就是利用 &lt;script&gt; 的src来实现跨域获取数据的。 实现跨域的原理就是动态生成script标签，然后利用script的src不受同源策略约束来跨域获取数据。 123456789101112131415 function handleResponse(response)&#123; console.log(response);&#125;window.onload = function()&#123; var oBtn = document.getElementById('btn'); oBtn.onclick = function()&#123; // 动态生成script标签，将请求路径赋给src，然后放到文档中 var script = document.createElement('script'); script.src = 'https://api.douban.com/v2/book/search?q=javascript&amp;count=1&amp;callback=handleResponse'; document.body.insertBefore(script,document.body.firstChild); &#125;&#125; 使用jquery的封装好的jsonp来实现跨域12345678910111213141516$.ajax(&#123; async: true, url: 'https://api.douban.com/v2/book/search', type: 'GET', dataType: 'jsonp', //返回的数据类型，设置为jsonp方式 jsonp: 'callback', // 指定一个查询参数名称来覆盖默认的jsonp回调参数 callback jsonpCallback: 'handleResponse', // 设置回调函数名 data: &#123; q: 'javascript', count: 1 &#125;, success: function(response,status,xhr)&#123; console.log('状态为：'+status+'状态是：'+xhr.statusText); console.log(response); &#125;&#125;) 使用$.getJSON来实现跨域12345678$.getJSON('https://api.douban.com/v2/book/search?callback=?',&#123; q: 'javascript', count: 1&#125;,function(response,status,xhr)&#123; console.log('状态为：'+status+'状态是：'+xhr.statusText); console.log(response);&#125;)","tags":[{"name":"jquery","slug":"jquery","permalink":"http://viivlgr.github.io/tags/jquery/"}]},{"title":"学习使用markdown语法","date":"2017-03-29T17:57:41.000Z","path":"2017/03/30/learn-markdown/","text":"开启markdown记录之路~ 一级标题二级标题三级标题四级标题五级标题六级标题无序列表 列表1 列表1.1 列表1.2 列表2 列表3 有序列表 列表1 列表1.1 列表1.2 列表2 列表3 引用 记录，成为更好的自己 粗体和斜体这是斜体这是粗体 链接与图片我的博客 分割线这是第一段内容 这是第二段内容 代码高亮123function()&#123; &#125; 制作待办事项TODOlist [x] 已完成项目1 [x] 已完成事项1 [ ] 待办事项2 [ ] 待办项目2 [ ] 待办项目3 流程图123456graph TD A[Christmas] --&gt;B(Go shopping) B --&gt; C&#123;let me think&#125; C --&gt; |One| D[laptop] C --&gt; |Two| E[iphone] C --&gt; |Three| F[Car] 序列图12345sequenceDiagram loop every day Alice -&gt;&gt; John:Hello John,how are you? John--&gt;&gt;Alice:Great! end 甘特图123456789ganttdateFormat YYYY-MM-DDtitle 产品设计表section 初期阶段明确需求:2016-03-01,10dsection 中期阶段跟进开发:2016-03-11,15dsection 后期阶段走查测试:2016-03-20,9d 表格 Item Value Qty Computer 1600 USD 5 Phone 12 USD 12 Pipe 1 USD 234","tags":[{"name":"工具","slug":"工具","permalink":"http://viivlgr.github.io/tags/工具/"}]},{"title":"我的博客终于出生啦~","date":"2017-03-29T16:56:41.000Z","path":"2017/03/30/build-hexo-and-change-theme/","text":"属于viivlgr的博客出生记~ 特别感谢HJM的分享 搭建hexo及替换主题","tags":[{"name":"first commit","slug":"first-commit","permalink":"http://viivlgr.github.io/tags/first-commit/"}]},{"title":"Hello World","date":"2017-03-28T18:08:10.000Z","path":"2017/03/29/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[]}]